Easiest way to do his to expand it

static void Main(string[] args)
        {
            string test = lp("badab");
            Console.ReadLine();
        }

        private static int lo, maxLen;

        public static string lp(string s) {
	        int len = s.Length;
	        if (len < 2)
		        return s;
	
            for (int i = 0; i < len-1; i++)
            {
     	        extendPalindrome(s, i, i);  //assume odd length, try to extend Palindrome as possible
     	        extendPalindrome(s, i, i+1); //assume even length.

                Console.WriteLine("Max " + s.Substring(lo, maxLen));

            }
            return s.Substring(lo, maxLen);
        }

        private static void extendPalindrome(string s, int j, int k) {

            Console.WriteLine(s.Substring(j, k - j + 1));

	        while (j >= 0 && k < s.Length && s[j] == s[k]) {
		        j--;
		        k++;
	        }
	        if (maxLen < k - j - 1) {
		        lo = j + 1;
		        maxLen = k - j - 1;
	        }
        }
